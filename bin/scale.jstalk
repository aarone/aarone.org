
var processInfo = NSProcessInfo.processInfo();

var args = processInfo.arguments();
var dimension = args[2];
var inputPath = args[3];
var outputPath = args[4];

var acorn = JSTalk.application("Acorn");
var image = acorn.open(inputPath);

var d = dimension.intValue();
image.scaleImageToWidth(d);
image.webExportWithOptions({'uti': 'public.jpeg', 'quality': 85, 'file': outputPath});
image.close();
